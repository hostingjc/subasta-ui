(this["webpackJsonpsubasta-ui"]=this["webpackJsonpsubasta-ui"]||[]).push([[0],{36:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(29),s=c.n(a),r=(c(36),c(14)),i=c(12),j=c.n(i),o=c(0),l=Object(n.createContext)(),b=function(e){var t=e.children,c=Object(n.useState)(JSON.parse(localStorage.getItem("user"))||null),a=Object(r.a)(c,2),s=a[0],i=a[1];Object(n.useEffect)((function(){try{localStorage.setItem("user",JSON.stringify(s))}catch(e){localStorage.removeItem("user"),console.log(e)}}),[s]);var b={user:s,login:function(e){j.a.post("login",e).then((function(e){console.log(e.data.user),i(e.data.token)})).catch((function(e){console.log(e)}))},logout:function(){i(null)},isLogged:function(){return!!s}};return Object(o.jsx)(l.Provider,{value:b,children:t})},d=c(2),h=c(3);function x(){return Object(n.useContext)(l)}function O(){var e=x();return Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/",activeClassName:"active",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/about",activeClassName:"active",children:"About"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/contact",activeClassName:"active",children:"Contact"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{to:"/categories",activeClassName:"active",children:"Categories"})}),!e.isLogged()&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/login",activeClassName:"active",children:"Login"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/register",activeClassName:"active",children:"Register"})})]}),e.isLogged()&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/dashboard",activeClassName:"active",children:"Dashboard"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"/payments",activeClassName:"active",children:"Payments"})}),Object(o.jsx)("li",{children:Object(o.jsx)("button",{onClick:e.logout,children:"Logout"})})]})]})})}var u=c(9),m=c(15);function g(e){var t=e.component,c=Object(m.a)(e,["component"]),n=x(),a=Object(h.h)();return Object(o.jsx)(h.b,Object(u.a)(Object(u.a)({},c),{},{children:n.isLogged()?Object(o.jsx)(t,{}):Object(o.jsx)(h.a,{to:{pathname:"/login",state:{from:a}}})}))}function p(e){var t=e.component,c=Object(m.a)(e,["component"]),n=x();return Object(o.jsx)(h.b,Object(u.a)(Object(u.a)({},c),{},{children:n.isLogged()?Object(o.jsx)(h.a,{to:"/dashboard"}):Object(o.jsx)(t,{})}))}function v(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"AboutPage"})})}function f(){var e=x();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"ContactPage"}),e.isLogged()&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Comprar"})})})]})}function C(){var e=x();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"DashboardPage"}),e.isLogged()&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Comprar"})})})]})}function N(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"HomePage"})})}var y=c(13);function P(){var e,t=Object(h.g)(),c=null===(e=Object(h.h)().state)||void 0===e?void 0:e.from,a=Object(n.useState)({email:"",password:""}),s=Object(r.a)(a,2),i=s[0],j=s[1],l=x(),b=function(e){j(Object(u.a)(Object(u.a)({},i),{},Object(y.a)({},e.target.name,e.target.value)))};return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("enviando datos..."+i.email+" "+i.password);var n={email:i.email,password:i.password};l.login(n),t.push(c||"/dashboard")},children:[Object(o.jsx)("h1",{children:"Login"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",onChange:b,name:"email"})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:b,name:"password"})]}),Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})})]})}function L(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"NotFoundPage"})})}function S(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"PaymentsPage"})})}function w(){var e=Object(h.i)().username;return Object(o.jsx)("div",{children:Object(o.jsxs)("h1",{children:["ProfilePage: ",e]})})}function k(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"RegisterPage"})})}function A(){var e=Object(h.h)(),t=Object(h.g)(),c=new URLSearchParams(e.search),n=parseInt(c.get("skip"))||0,a=parseInt(c.get("limit"))||15;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"CategoriesPage"}),Object(o.jsxs)("h2",{children:["Skip: ",n]}),Object(o.jsxs)("h2",{children:["Limit: ",a]}),Object(o.jsx)("button",{onClick:function(){c.set("skip",n+a),t.push({search:c.toString()})},children:"Next"})]})}function I(){var e=Object(h.j)().url;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{exact:!0,to:"".concat(e),activeClassName:"active",children:"All"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{to:"".concat(e,"/terror"),activeClassName:"active",children:"Terror"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{to:"".concat(e,"/action"),activeClassName:"active",children:"Action"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.c,{to:"".concat(e,"/anime"),activeClassName:"active",children:"Anime"})})]}),Object(o.jsxs)(h.d,{children:[Object(o.jsx)(h.b,{exact:!0,path:"/categories",component:A}),Object(o.jsx)(g,{path:"/categories/terror",component:F}),Object(o.jsx)(h.b,{exact:!0,path:"/categories/action",children:Object(o.jsx)("h1",{children:"Category Action"})}),Object(o.jsx)(h.b,{exact:!0,path:"/categories/anime",children:Object(o.jsx)("h1",{children:"Category Anime"})}),Object(o.jsx)(h.b,{path:"*",children:Object(o.jsx)(h.a,{to:"/404"})})]})]})}function F(){var e=Object(h.j)().url;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(d.b,{to:"/categories/terror",children:"All"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.b,{to:"/categories/terror/gore",children:"Gore"})}),Object(o.jsx)("li",{children:Object(o.jsx)(d.b,{to:"/categories/terror/suspense",children:"Suspense"})})]}),Object(o.jsxs)(h.d,{children:[Object(o.jsx)(h.b,{exact:!0,path:"".concat(e),children:Object(o.jsx)("h3",{children:"Category Terror"})}),Object(o.jsx)(h.b,{exact:!0,path:"".concat(e,"/gore"),children:Object(o.jsx)("h3",{children:"Gore"})}),Object(o.jsx)(h.b,{exact:!0,path:"".concat(e,"/suspense"),children:Object(o.jsx)("h3",{children:"Suspense"})}),Object(o.jsx)(h.b,{path:"*",children:Object(o.jsx)(h.a,{to:"/404"})})]})]})}function E(){return Object(o.jsxs)(d.a,{children:[Object(o.jsx)(O,{}),Object(o.jsxs)(h.d,{children:[Object(o.jsx)(h.b,{exact:!0,path:"/about",component:v}),Object(o.jsx)(h.b,{exact:!0,path:"/contact",component:f}),Object(o.jsx)(h.b,{exact:!0,path:"/",component:N}),Object(o.jsx)(h.b,{exact:!0,path:"/profile/:username",component:w}),Object(o.jsx)(h.b,{path:"/categories",component:I}),Object(o.jsx)(h.b,{exact:!0,path:"/signin",children:Object(o.jsx)(h.a,{to:"/login"})}),Object(o.jsx)(p,{exact:!0,path:"/login",component:P}),Object(o.jsx)(p,{exact:!0,path:"/register",component:k}),Object(o.jsx)(g,{exact:!0,path:"/dashboard",component:C}),Object(o.jsx)(g,{exact:!0,path:"/payments",component:S}),Object(o.jsx)(h.b,{path:"/404",component:L}),Object(o.jsx)(h.b,{path:"*",children:Object(o.jsx)(h.a,{to:"/404"})})]})]})}var J=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(b,{children:Object(o.jsx)(E,{})})})};j.a.defaults.baseURL="https://subastavozalta.herokuapp.com/api/",j.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),s.a.render(Object(o.jsx)(J,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.4d2eb10f.chunk.js.map